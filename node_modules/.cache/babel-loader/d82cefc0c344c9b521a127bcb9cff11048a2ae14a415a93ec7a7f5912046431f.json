{"ast":null,"code":"import _regeneratorRuntime from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _objectSpread from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { Buffer } from 'buffer';\nimport * as encoding from '../../../encoding/encoding';\nimport JSONRequest from '../jsonrequest';\nimport { SimulateResponse } from './models/types';\n/**\n * Sets the default header (if not previously set) for simulating a raw\n * transaction.\n * @param headers - A headers object\n */\nexport function setSimulateTransactionsHeaders() {\n  var headers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var hdrs = headers;\n  if (Object.keys(hdrs).every(function (key) {\n    return key.toLowerCase() !== 'content-type';\n  })) {\n    hdrs = _objectSpread({}, headers);\n    hdrs['Content-Type'] = 'application/msgpack';\n  }\n  return hdrs;\n}\n/**\n * Simulates signed txns.\n */\nvar SimulateRawTransactions = /*#__PURE__*/function (_JSONRequest) {\n  _inherits(SimulateRawTransactions, _JSONRequest);\n  var _super = _createSuper(SimulateRawTransactions);\n  function SimulateRawTransactions(c, request) {\n    var _this;\n    _classCallCheck(this, SimulateRawTransactions);\n    _this = _super.call(this, c);\n    _this.query.format = 'msgpack';\n    _this.requestBytes = encoding.rawEncode(request.get_obj_for_encoding(true));\n    return _this;\n  }\n  // eslint-disable-next-line class-methods-use-this\n  _createClass(SimulateRawTransactions, [{\n    key: \"path\",\n    value: function path() {\n      return '/v2/transactions/simulate';\n    }\n  }, {\n    key: \"do\",\n    value: function () {\n      var _do2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var headers,\n          txHeaders,\n          res,\n          _args = arguments;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              headers = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              txHeaders = setSimulateTransactionsHeaders(headers);\n              _context.next = 4;\n              return this.c.post(this.path(), Buffer.from(this.requestBytes), txHeaders, this.query, false);\n            case 4:\n              res = _context.sent;\n              return _context.abrupt(\"return\", this.prepare(res.body));\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function _do() {\n        return _do2.apply(this, arguments);\n      }\n      return _do;\n    }() // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: \"prepare\",\n    value: function prepare(body) {\n      var decoded = encoding.decode(body);\n      return SimulateResponse.from_obj_for_encoding(decoded);\n    }\n  }]);\n  return SimulateRawTransactions;\n}(JSONRequest);\nexport { SimulateRawTransactions as default };","map":{"version":3,"names":["Buffer","encoding","JSONRequest","SimulateResponse","setSimulateTransactionsHeaders","headers","arguments","length","undefined","hdrs","Object","keys","every","key","toLowerCase","_objectSpread","SimulateRawTransactions","_JSONRequest","_inherits","_super","_createSuper","c","request","_this","_classCallCheck","call","query","format","requestBytes","rawEncode","get_obj_for_encoding","_createClass","value","path","_do2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","txHeaders","res","_args","wrap","_callee$","_context","prev","next","post","from","sent","abrupt","prepare","body","stop","_do","apply","decoded","decode","from_obj_for_encoding","default"],"sources":["/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/algosdk/src/client/v2/algod/simulateTransaction.ts"],"sourcesContent":["import { Buffer } from 'buffer';\nimport * as encoding from '../../../encoding/encoding';\nimport HTTPClient from '../../client';\nimport JSONRequest from '../jsonrequest';\nimport { SimulateRequest, SimulateResponse } from './models/types';\n\n/**\n * Sets the default header (if not previously set) for simulating a raw\n * transaction.\n * @param headers - A headers object\n */\nexport function setSimulateTransactionsHeaders(headers = {}) {\n  let hdrs = headers;\n  if (Object.keys(hdrs).every((key) => key.toLowerCase() !== 'content-type')) {\n    hdrs = { ...headers };\n    hdrs['Content-Type'] = 'application/msgpack';\n  }\n  return hdrs;\n}\n\n/**\n * Simulates signed txns.\n */\nexport default class SimulateRawTransactions extends JSONRequest<\n  SimulateResponse,\n  Uint8Array\n> {\n  private requestBytes: Uint8Array;\n\n  constructor(c: HTTPClient, request: SimulateRequest) {\n    super(c);\n    this.query.format = 'msgpack';\n    this.requestBytes = encoding.rawEncode(request.get_obj_for_encoding(true));\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  path() {\n    return '/v2/transactions/simulate';\n  }\n\n  async do(headers = {}) {\n    const txHeaders = setSimulateTransactionsHeaders(headers);\n    const res = await this.c.post(\n      this.path(),\n      Buffer.from(this.requestBytes),\n      txHeaders,\n      this.query,\n      false\n    );\n    return this.prepare(res.body);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  prepare(body: Uint8Array): SimulateResponse {\n    const decoded = encoding.decode(body);\n    return SimulateResponse.from_obj_for_encoding(decoded);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}