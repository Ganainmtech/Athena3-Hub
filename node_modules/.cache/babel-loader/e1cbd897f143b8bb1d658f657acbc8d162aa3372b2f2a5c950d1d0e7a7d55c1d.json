{"ast":null,"code":"import _slicedToArray from\"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{PeraWalletConnect}from\"@perawallet/connect\";import{Button}from'antd';import{jsx as _jsx}from\"react/jsx-runtime\";var peraWallet=new PeraWalletConnect();export default function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),accountAddress=_useState2[0],setAccountAddress=_useState2[1];var isConnectedToPeraWallet=!!accountAddress;useEffect(function(){// Reconnect to the session when the component is mounted\nperaWallet.reconnectSession().then(function(accounts){peraWallet.connector.on(\"disconnect\",handleDisconnectWalletClick);if(accounts.length){setAccountAddress(accounts[0]);}}).catch(function(e){return console.log(e);});},[]);return/*#__PURE__*/_jsx(Button,{onClick:isConnectedToPeraWallet?handleDisconnectWalletClick:handleConnectWalletClick,className:\"zIndex999\",children:isConnectedToPeraWallet?\"Disconnect\":\"Connect Wallet\"});function handleConnectWalletClick(){peraWallet.connect().then(function(newAccounts){peraWallet.connector.on(\"disconnect\",handleDisconnectWalletClick);setAccountAddress(newAccounts[0]);}).catch(function(error){var _error$data;if((error===null||error===void 0?void 0:(_error$data=error.data)===null||_error$data===void 0?void 0:_error$data.type)!==\"CONNECT_MODAL_CLOSED1\"){console.log(error);}});}function handleDisconnectWalletClick(){peraWallet.disconnect();setAccountAddress(null);}}","map":{"version":3,"names":["useState","useEffect","PeraWalletConnect","Button","jsx","_jsx","peraWallet","App","_useState","_useState2","_slicedToArray","accountAddress","setAccountAddress","isConnectedToPeraWallet","reconnectSession","then","accounts","connector","on","handleDisconnectWalletClick","length","catch","e","console","log","onClick","handleConnectWalletClick","className","children","connect","newAccounts","error","_error$data","data","type","disconnect"],"sources":["/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/src/components/Wallet.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { PeraWalletConnect } from \"@perawallet/connect\";\nimport { Button } from 'antd';\n\nconst peraWallet = new PeraWalletConnect();\n\nexport default function App () {\n  const [accountAddress, setAccountAddress] = useState(null);\n  const isConnectedToPeraWallet = !!accountAddress;\n\n  useEffect(() => {\n    // Reconnect to the session when the component is mounted\n    peraWallet\n      .reconnectSession()\n      .then((accounts) => {\n        peraWallet.connector.on(\"disconnect\", handleDisconnectWalletClick);\n\n        if (accounts.length) {\n          setAccountAddress(accounts[0]);\n        }\n      })\n      .catch((e) => console.log(e));\n  }, []);\n\n  return (\n    <Button\n      onClick={\n        isConnectedToPeraWallet\n          ? handleDisconnectWalletClick\n          : handleConnectWalletClick\n      }\n      className=\"zIndex999\"\n    >\n      {isConnectedToPeraWallet ? \"Disconnect\" : \"Connect Wallet\"}\n    </Button>\n  );\n\n  function handleConnectWalletClick () {\n    peraWallet\n      .connect()\n      .then((newAccounts) => {\n        peraWallet.connector.on(\"disconnect\", handleDisconnectWalletClick);\n\n        setAccountAddress(newAccounts[0]);\n      })\n      .catch((error) => {\n        if (error?.data?.type !== \"CONNECT_MODAL_CLOSED1\") {\n          console.log(error);\n        }\n      });\n  }\n\n  function handleDisconnectWalletClick () {\n    peraWallet.disconnect();\n\n    setAccountAddress(null);\n  }\n}\n"],"mappings":"0KAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,iBAAiB,KAAQ,qBAAqB,CACvD,OAASC,MAAM,KAAQ,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9B,GAAM,CAAAC,UAAU,CAAG,GAAI,CAAAJ,iBAAiB,CAAC,CAAC,CAE1C,cAAe,SAAS,CAAAK,GAAGA,CAAA,CAAI,CAC7B,IAAAC,SAAA,CAA4CR,QAAQ,CAAC,IAAI,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IACxC,GAAM,CAAAI,uBAAuB,CAAG,CAAC,CAACF,cAAc,CAEhDV,SAAS,CAAC,UAAM,CACd;AACAK,UAAU,CACPQ,gBAAgB,CAAC,CAAC,CAClBC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBV,UAAU,CAACW,SAAS,CAACC,EAAE,CAAC,YAAY,CAAEC,2BAA2B,CAAC,CAElE,GAAIH,QAAQ,CAACI,MAAM,CAAE,CACnBR,iBAAiB,CAACI,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChC,CACF,CAAC,CAAC,CACDK,KAAK,CAAC,SAACC,CAAC,QAAK,CAAAC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,GAAC,CACjC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEjB,IAAA,CAACF,MAAM,EACLsB,OAAO,CACLZ,uBAAuB,CACnBM,2BAA2B,CAC3BO,wBACL,CACDC,SAAS,CAAC,WAAW,CAAAC,QAAA,CAEpBf,uBAAuB,CAAG,YAAY,CAAG,gBAAgB,CACpD,CAAC,CAGX,QAAS,CAAAa,wBAAwBA,CAAA,CAAI,CACnCpB,UAAU,CACPuB,OAAO,CAAC,CAAC,CACTd,IAAI,CAAC,SAACe,WAAW,CAAK,CACrBxB,UAAU,CAACW,SAAS,CAACC,EAAE,CAAC,YAAY,CAAEC,2BAA2B,CAAC,CAElEP,iBAAiB,CAACkB,WAAW,CAAC,CAAC,CAAC,CAAC,CACnC,CAAC,CAAC,CACDT,KAAK,CAAC,SAACU,KAAK,CAAK,KAAAC,WAAA,CAChB,GAAI,CAAAD,KAAK,SAALA,KAAK,kBAAAC,WAAA,CAALD,KAAK,CAAEE,IAAI,UAAAD,WAAA,iBAAXA,WAAA,CAAaE,IAAI,IAAK,uBAAuB,CAAE,CACjDX,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC,CACpB,CACF,CAAC,CAAC,CACN,CAEA,QAAS,CAAAZ,2BAA2BA,CAAA,CAAI,CACtCb,UAAU,CAAC6B,UAAU,CAAC,CAAC,CAEvBvB,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}