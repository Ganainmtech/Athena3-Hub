{"ast":null,"code":"export function promisify(originalFn, thisArg) {\n  const promisifiedFunction = async (...callArgs) => {\n    return new Promise((resolve, reject) => {\n      const callback = (err, data) => {\n        if (err === null || typeof err === \"undefined\") {\n          reject(err);\n        }\n        resolve(data);\n      };\n      originalFn.apply(thisArg, [...callArgs, callback]);\n    });\n  };\n  return promisifiedFunction;\n}\nexport function formatRpcError(error) {\n  const message = error.message || \"Failed or Rejected Request\";\n  let code = -32000;\n  if (error && !error.code) {\n    switch (message) {\n      case \"Parse error\":\n        code = -32700;\n        break;\n      case \"Invalid request\":\n        code = -32600;\n        break;\n      case \"Method not found\":\n        code = -32601;\n        break;\n      case \"Invalid params\":\n        code = -32602;\n        break;\n      case \"Internal error\":\n        code = -32603;\n        break;\n      default:\n        code = -32000;\n        break;\n    }\n  }\n  const result = {\n    code,\n    message\n  };\n  if (error.data) {\n    result.data = error.data;\n  }\n  return result;\n}","map":{"version":3,"names":["promisify","originalFn","thisArg","promisifiedFunction","callArgs","Promise","resolve","reject","callback","err","data","apply","formatRpcError","error","message","code","result"],"sources":["../../src/payload.ts"],"sourcesContent":[null],"mappings":"AAMA,OAAM,SAAUA,SAASA,CACvBC,UAAoC,EACpCC,OAAa;EAEb,MAAMC,mBAAmB,GAAG,MAAAA,CAC1B,GAAGC,QAAe,KAC0C;IAC5D,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAI;MACrC,MAAMC,QAAQ,GAAGA,CACfC,GAAiB,EACjBC,IAAqD,KACnD;QACF,IAAID,GAAG,KAAK,IAAI,IAAI,OAAOA,GAAG,KAAK,WAAW,EAAE;UAC9CF,MAAM,CAACE,GAAG,CAAC;;QAEbH,OAAO,CAACI,IAAI,CAAC;MACf,CAAC;MACDT,UAAU,CAACU,KAAK,CAACT,OAAO,EAAE,CAAC,GAAGE,QAAQ,EAAEI,QAAQ,CAAC,CAAC;IACpD,CAAC,CAAC;EACJ,CAAC;EACD,OAAOL,mBAAmB;AAC5B;AAEA,OAAM,SAAUS,cAAcA,CAC5BC,KAAoC;EAEpC,MAAMC,OAAO,GAAGD,KAAK,CAACC,OAAO,IAAI,4BAA4B;EAC7D,IAAIC,IAAI,GAAG,CAAC,KAAK;EACjB,IAAIF,KAAK,IAAI,CAACA,KAAK,CAACE,IAAI,EAAE;IACxB,QAAQD,OAAO;MACb,KAAK,aAAa;QAChBC,IAAI,GAAG,CAAC,KAAK;QACb;MACF,KAAK,iBAAiB;QACpBA,IAAI,GAAG,CAAC,KAAK;QACb;MACF,KAAK,kBAAkB;QACrBA,IAAI,GAAG,CAAC,KAAK;QACb;MACF,KAAK,gBAAgB;QACnBA,IAAI,GAAG,CAAC,KAAK;QACb;MACF,KAAK,gBAAgB;QACnBA,IAAI,GAAG,CAAC,KAAK;QACb;MACF;QACEA,IAAI,GAAG,CAAC,KAAK;QACb;;;EAGN,MAAMC,MAAM,GAAqD;IAC/DD,IAAI;IACJD;GACD;EACD,IAAID,KAAK,CAACH,IAAI,EAAE;IACdM,MAAM,CAACN,IAAI,GAAGG,KAAK,CAACH,IAAI;;EAE1B,OAAOM,MAAM;AACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}