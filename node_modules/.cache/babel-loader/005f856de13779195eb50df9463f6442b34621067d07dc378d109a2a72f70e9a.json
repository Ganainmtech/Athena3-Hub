{"ast":null,"code":"var domain = \"walletconnect.org\";\nvar alphanumerical = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nvar bridges = alphanumerical.split(\"\").map(function (char) {\n  return \"https://\".concat(char, \".bridge.walletconnect.org\");\n});\nexport function extractHostname(url) {\n  var hostname = url.indexOf(\"//\") > -1 ? url.split(\"/\")[2] : url.split(\"/\")[0];\n  hostname = hostname.split(\":\")[0];\n  hostname = hostname.split(\"?\")[0];\n  return hostname;\n}\nexport function extractRootDomain(url) {\n  return extractHostname(url).split(\".\").slice(-2).join(\".\");\n}\nexport function randomBridgeIndex() {\n  return Math.floor(Math.random() * bridges.length);\n}\nexport function selectRandomBridgeUrl() {\n  return bridges[randomBridgeIndex()];\n}\nexport function shouldSelectRandomly(url) {\n  return extractRootDomain(url) === domain;\n}\nexport function getBridgeUrl(url) {\n  if (shouldSelectRandomly(url)) {\n    return selectRandomBridgeUrl();\n  }\n  return url;\n}","map":{"version":3,"names":["domain","alphanumerical","bridges","split","map","char","concat","extractHostname","url","hostname","indexOf","extractRootDomain","slice","join","randomBridgeIndex","Math","floor","random","length","selectRandomBridgeUrl","shouldSelectRandomly","getBridgeUrl"],"sources":["../../src/url.ts"],"sourcesContent":[null],"mappings":"AAAA,IAAMA,MAAM,GAAG,mBAAmB;AAElC,IAAMC,cAAc,GAAG,sCAAsC;AAE7D,IAAMC,OAAO,GAAGD,cAAc,CAACE,KAAK,CAAC,EAAE,CAAC,CAACC,GAAG,CAAC,UAAAC,IAAI;EAAA,kBAAAC,MAAA,CAAeD,IAAI;AAAA,CAA2B,CAAC;AAEhG,OAAM,SAAUE,eAAeA,CAACC,GAAW;EAEzC,IAAIC,QAAQ,GAAGD,GAAG,CAACE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGF,GAAG,CAACL,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAGK,GAAG,CAACL,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAE7EM,QAAQ,GAAGA,QAAQ,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAEjCM,QAAQ,GAAGA,QAAQ,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACjC,OAAOM,QAAQ;AACjB;AAEA,OAAM,SAAUE,iBAAiBA,CAACH,GAAW;EAC3C,OAAOD,eAAe,CAACC,GAAG,CAAC,CACxBL,KAAK,CAAC,GAAG,CAAC,CACVS,KAAK,CAAC,CAAC,CAAC,CAAC,CACTC,IAAI,CAAC,GAAG,CAAC;AACd;AAEA,OAAM,SAAUC,iBAAiBA,CAAA;EAC/B,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAGf,OAAO,CAACgB,MAAM,CAAC;AACnD;AAEA,OAAM,SAAUC,qBAAqBA,CAAA;EACnC,OAAOjB,OAAO,CAACY,iBAAiB,EAAE,CAAC;AACrC;AAEA,OAAM,SAAUM,oBAAoBA,CAACZ,GAAW;EAC9C,OAAOG,iBAAiB,CAACH,GAAG,CAAC,KAAKR,MAAM;AAC1C;AAEA,OAAM,SAAUqB,YAAYA,CAACb,GAAW;EACtC,IAAIY,oBAAoB,CAACZ,GAAG,CAAC,EAAE;IAC7B,OAAOW,qBAAqB,EAAE;;EAEhC,OAAOX,GAAG;AACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}