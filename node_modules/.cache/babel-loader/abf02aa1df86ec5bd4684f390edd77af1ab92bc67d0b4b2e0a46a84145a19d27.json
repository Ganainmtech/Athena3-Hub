{"ast":null,"code":"\"use client\";\n\nimport _slicedToArray from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport usePatchElement from '../../_util/hooks/usePatchElement';\nimport { withConfirm, withError, withInfo, withSuccess, withWarn } from '../confirm';\nimport destroyFns from '../destroyFns';\nimport HookModal from './HookModal';\nvar uuid = 0;\nvar ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function (_props, ref) {\n  var _usePatchElement = usePatchElement(),\n    _usePatchElement2 = _slicedToArray(_usePatchElement, 2),\n    elements = _usePatchElement2[0],\n    patchElement = _usePatchElement2[1];\n  React.useImperativeHandle(ref, function () {\n    return {\n      patchElement: patchElement\n    };\n  }, []);\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\nfunction useModal() {\n  var holderRef = React.useRef(null);\n  // ========================== Effect ==========================\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    actionQueue = _React$useState2[0],\n    setActionQueue = _React$useState2[1];\n  React.useEffect(function () {\n    if (actionQueue.length) {\n      var cloneQueue = _toConsumableArray(actionQueue);\n      cloneQueue.forEach(function (action) {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]);\n  // =========================== Hook ===========================\n  var getConfirmFunc = React.useCallback(function (withFunc) {\n    return function hookConfirm(config) {\n      var _a;\n      uuid += 1;\n      var modalRef = /*#__PURE__*/React.createRef();\n      // Proxy to promise with `onClose`\n      var resolvePromise;\n      var promise = new Promise(function (resolve) {\n        resolvePromise = resolve;\n      });\n      var silent = false;\n      var closeFunc;\n      var modal = /*#__PURE__*/React.createElement(HookModal, {\n        key: \"modal-\".concat(uuid),\n        config: withFunc(config),\n        ref: modalRef,\n        afterClose: function afterClose() {\n          closeFunc === null || closeFunc === void 0 ? void 0 : closeFunc();\n        },\n        isSilent: function isSilent() {\n          return silent;\n        },\n        onConfirm: function onConfirm(confirmed) {\n          resolvePromise(confirmed);\n        }\n      });\n      closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n      if (closeFunc) {\n        destroyFns.push(closeFunc);\n      }\n      var instance = {\n        destroy: function destroy() {\n          function destroyAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n          }\n          if (modalRef.current) {\n            destroyAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat(_toConsumableArray(prev), [destroyAction]);\n            });\n          }\n        },\n        update: function update(newConfig) {\n          function updateAction() {\n            var _a;\n            (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n          }\n          if (modalRef.current) {\n            updateAction();\n          } else {\n            setActionQueue(function (prev) {\n              return [].concat(_toConsumableArray(prev), [updateAction]);\n            });\n          }\n        },\n        then: function then(resolve) {\n          silent = true;\n          return promise.then(resolve);\n        }\n      };\n      return instance;\n    };\n  }, []);\n  var fns = React.useMemo(function () {\n    return {\n      info: getConfirmFunc(withInfo),\n      success: getConfirmFunc(withSuccess),\n      error: getConfirmFunc(withError),\n      warning: getConfirmFunc(withWarn),\n      confirm: getConfirmFunc(withConfirm)\n    };\n  }, []);\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    key: \"modal-holder\",\n    ref: holderRef\n  })];\n}\nexport default useModal;","map":{"version":3,"names":["_slicedToArray","_toConsumableArray","React","usePatchElement","withConfirm","withError","withInfo","withSuccess","withWarn","destroyFns","HookModal","uuid","ElementsHolder","memo","forwardRef","_props","ref","_usePatchElement","_usePatchElement2","elements","patchElement","useImperativeHandle","createElement","Fragment","useModal","holderRef","useRef","_React$useState","useState","_React$useState2","actionQueue","setActionQueue","useEffect","length","cloneQueue","forEach","action","getConfirmFunc","useCallback","withFunc","hookConfirm","config","_a","modalRef","createRef","resolvePromise","promise","Promise","resolve","silent","closeFunc","modal","key","concat","afterClose","isSilent","onConfirm","confirmed","current","push","instance","destroy","destroyAction","prev","update","newConfig","updateAction","then","fns","useMemo","info","success","error","warning","confirm"],"sources":["/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/antd/es/modal/useModal/index.js"],"sourcesContent":["\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport usePatchElement from '../../_util/hooks/usePatchElement';\nimport { withConfirm, withError, withInfo, withSuccess, withWarn } from '../confirm';\nimport destroyFns from '../destroyFns';\nimport HookModal from './HookModal';\nlet uuid = 0;\nconst ElementsHolder = /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef((_props, ref) => {\n  const [elements, patchElement] = usePatchElement();\n  React.useImperativeHandle(ref, () => ({\n    patchElement\n  }), []);\n  // eslint-disable-next-line react/jsx-no-useless-fragment\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\nfunction useModal() {\n  const holderRef = React.useRef(null);\n  // ========================== Effect ==========================\n  const [actionQueue, setActionQueue] = React.useState([]);\n  React.useEffect(() => {\n    if (actionQueue.length) {\n      const cloneQueue = _toConsumableArray(actionQueue);\n      cloneQueue.forEach(action => {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]);\n  // =========================== Hook ===========================\n  const getConfirmFunc = React.useCallback(withFunc => function hookConfirm(config) {\n    var _a;\n    uuid += 1;\n    const modalRef = /*#__PURE__*/React.createRef();\n    // Proxy to promise with `onClose`\n    let resolvePromise;\n    const promise = new Promise(resolve => {\n      resolvePromise = resolve;\n    });\n    let silent = false;\n    let closeFunc;\n    const modal = /*#__PURE__*/React.createElement(HookModal, {\n      key: `modal-${uuid}`,\n      config: withFunc(config),\n      ref: modalRef,\n      afterClose: () => {\n        closeFunc === null || closeFunc === void 0 ? void 0 : closeFunc();\n      },\n      isSilent: () => silent,\n      onConfirm: confirmed => {\n        resolvePromise(confirmed);\n      }\n    });\n    closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n    if (closeFunc) {\n      destroyFns.push(closeFunc);\n    }\n    const instance = {\n      destroy: () => {\n        function destroyAction() {\n          var _a;\n          (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        }\n        if (modalRef.current) {\n          destroyAction();\n        } else {\n          setActionQueue(prev => [].concat(_toConsumableArray(prev), [destroyAction]));\n        }\n      },\n      update: newConfig => {\n        function updateAction() {\n          var _a;\n          (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n        }\n        if (modalRef.current) {\n          updateAction();\n        } else {\n          setActionQueue(prev => [].concat(_toConsumableArray(prev), [updateAction]));\n        }\n      },\n      then: resolve => {\n        silent = true;\n        return promise.then(resolve);\n      }\n    };\n    return instance;\n  }, []);\n  const fns = React.useMemo(() => ({\n    info: getConfirmFunc(withInfo),\n    success: getConfirmFunc(withSuccess),\n    error: getConfirmFunc(withError),\n    warning: getConfirmFunc(withWarn),\n    confirm: getConfirmFunc(withConfirm)\n  }), []);\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    key: \"modal-holder\",\n    ref: holderRef\n  })];\n}\nexport default useModal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}