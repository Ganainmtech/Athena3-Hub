{"ast":null,"code":"const domain = \"walletconnect.org\";\nconst alphanumerical = \"abcdefghijklmnopqrstuvwxyz0123456789\";\nconst bridges = alphanumerical.split(\"\").map(char => `https://${char}.bridge.walletconnect.org`);\nexport function extractHostname(url) {\n  let hostname = url.indexOf(\"//\") > -1 ? url.split(\"/\")[2] : url.split(\"/\")[0];\n  hostname = hostname.split(\":\")[0];\n  hostname = hostname.split(\"?\")[0];\n  return hostname;\n}\nexport function extractRootDomain(url) {\n  return extractHostname(url).split(\".\").slice(-2).join(\".\");\n}\nexport function randomBridgeIndex() {\n  return Math.floor(Math.random() * bridges.length);\n}\nexport function selectRandomBridgeUrl() {\n  return bridges[randomBridgeIndex()];\n}\nexport function shouldSelectRandomly(url) {\n  return extractRootDomain(url) === domain;\n}\nexport function getBridgeUrl(url) {\n  if (shouldSelectRandomly(url)) {\n    return selectRandomBridgeUrl();\n  }\n  return url;\n}","map":{"version":3,"names":["domain","alphanumerical","bridges","split","map","char","extractHostname","url","hostname","indexOf","extractRootDomain","slice","join","randomBridgeIndex","Math","floor","random","length","selectRandomBridgeUrl","shouldSelectRandomly","getBridgeUrl"],"sources":["../../src/url.ts"],"sourcesContent":[null],"mappings":"AAAA,MAAMA,MAAM,GAAG,mBAAmB;AAElC,MAAMC,cAAc,GAAG,sCAAsC;AAE7D,MAAMC,OAAO,GAAGD,cAAc,CAACE,KAAK,CAAC,EAAE,CAAC,CAACC,GAAG,CAACC,IAAI,IAAI,WAAWA,IAAI,2BAA2B,CAAC;AAEhG,OAAM,SAAUC,eAAeA,CAACC,GAAW;EAEzC,IAAIC,QAAQ,GAAGD,GAAG,CAACE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAGF,GAAG,CAACJ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAGI,GAAG,CAACJ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAE7EK,QAAQ,GAAGA,QAAQ,CAACL,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EAEjCK,QAAQ,GAAGA,QAAQ,CAACL,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACjC,OAAOK,QAAQ;AACjB;AAEA,OAAM,SAAUE,iBAAiBA,CAACH,GAAW;EAC3C,OAAOD,eAAe,CAACC,GAAG,CAAC,CACxBJ,KAAK,CAAC,GAAG,CAAC,CACVQ,KAAK,CAAC,CAAC,CAAC,CAAC,CACTC,IAAI,CAAC,GAAG,CAAC;AACd;AAEA,OAAM,SAAUC,iBAAiBA,CAAA;EAC/B,OAAOC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAGd,OAAO,CAACe,MAAM,CAAC;AACnD;AAEA,OAAM,SAAUC,qBAAqBA,CAAA;EACnC,OAAOhB,OAAO,CAACW,iBAAiB,EAAE,CAAC;AACrC;AAEA,OAAM,SAAUM,oBAAoBA,CAACZ,GAAW;EAC9C,OAAOG,iBAAiB,CAACH,GAAG,CAAC,KAAKP,MAAM;AAC1C;AAEA,OAAM,SAAUoB,YAAYA,CAACb,GAAW;EACtC,IAAIY,oBAAoB,CAACZ,GAAG,CAAC,EAAE;IAC7B,OAAOW,qBAAqB,EAAE;;EAEhC,OAAOX,GAAG;AACZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}