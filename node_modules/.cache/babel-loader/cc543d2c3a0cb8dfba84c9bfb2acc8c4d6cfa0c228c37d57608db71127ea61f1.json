{"ast":null,"code":"import _classCallCheck from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/wanjinwoo/Desktop/Study/web3/Algorand/Athena3-Hub/Athena3-Hub-athena-frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { isJsonRpcRequest, isJsonRpcResponseSuccess, isJsonRpcResponseError, isInternalEvent, isReservedEvent } from \"@walletconnect/utils\";\nvar EventManager = /*#__PURE__*/function () {\n  function EventManager() {\n    _classCallCheck(this, EventManager);\n    this._eventEmitters = [];\n  }\n  _createClass(EventManager, [{\n    key: \"subscribe\",\n    value: function subscribe(eventEmitter) {\n      this._eventEmitters.push(eventEmitter);\n    }\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(event) {\n      this._eventEmitters = this._eventEmitters.filter(function (x) {\n        return x.event !== event;\n      });\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(payload) {\n      var eventEmitters = [];\n      var event;\n      if (isJsonRpcRequest(payload)) {\n        event = payload.method;\n      } else if (isJsonRpcResponseSuccess(payload) || isJsonRpcResponseError(payload)) {\n        event = \"response:\".concat(payload.id);\n      } else if (isInternalEvent(payload)) {\n        event = payload.event;\n      } else {\n        event = \"\";\n      }\n      if (event) {\n        eventEmitters = this._eventEmitters.filter(function (eventEmitter) {\n          return eventEmitter.event === event;\n        });\n      }\n      if ((!eventEmitters || !eventEmitters.length) && !isReservedEvent(event) && !isInternalEvent(event)) {\n        eventEmitters = this._eventEmitters.filter(function (eventEmitter) {\n          return eventEmitter.event === \"call_request\";\n        });\n      }\n      eventEmitters.forEach(function (eventEmitter) {\n        if (isJsonRpcResponseError(payload)) {\n          var error = new Error(payload.error.message);\n          eventEmitter.callback(error, null);\n        } else {\n          eventEmitter.callback(null, payload);\n        }\n      });\n    }\n  }]);\n  return EventManager;\n}();\nexport default EventManager;","map":{"version":3,"names":["isJsonRpcRequest","isJsonRpcResponseSuccess","isJsonRpcResponseError","isInternalEvent","isReservedEvent","EventManager","_classCallCheck","_eventEmitters","_createClass","key","value","subscribe","eventEmitter","push","unsubscribe","event","filter","x","trigger","payload","eventEmitters","method","concat","id","length","forEach","error","Error","message","callback"],"sources":["../../src/events.ts"],"sourcesContent":[null],"mappings":";;AAAA,SACEA,gBAAgB,EAChBC,wBAAwB,EACxBC,sBAAsB,EACtBC,eAAe,EACfC,eAAe,QACV,sBAAsB;AAAC,IAWxBC,YAAY;EAGhB,SAAAA,aAAA;IAAAC,eAAA,OAAAD,YAAA;IACE,IAAI,CAACE,cAAc,GAAG,EAAE;EAC1B;EAACC,YAAA,CAAAH,YAAA;IAAAI,GAAA;IAAAC,KAAA,EAEM,SAAAC,UAAUC,YAA2B;MAC1C,IAAI,CAACL,cAAc,CAACM,IAAI,CAACD,YAAY,CAAC;IACxC;EAAC;IAAAH,GAAA;IAAAC,KAAA,EAEM,SAAAI,YAAYC,KAAa;MAC9B,IAAI,CAACR,cAAc,GAAG,IAAI,CAACA,cAAc,CAACS,MAAM,CAAC,UAAAC,CAAC;QAAA,OAAIA,CAAC,CAACF,KAAK,KAAKA,KAAK;MAAA,EAAC;IAC1E;EAAC;IAAAN,GAAA;IAAAC,KAAA,EAEM,SAAAQ,QACLC,OAA2F;MAE3F,IAAIC,aAAa,GAAoB,EAAE;MACvC,IAAIL,KAAa;MAEjB,IAAIf,gBAAgB,CAACmB,OAAO,CAAC,EAAE;QAC7BJ,KAAK,GAAGI,OAAO,CAACE,MAAM;OACvB,MAAM,IAAIpB,wBAAwB,CAACkB,OAAO,CAAC,IAAIjB,sBAAsB,CAACiB,OAAO,CAAC,EAAE;QAC/EJ,KAAK,eAAAO,MAAA,CAAeH,OAAO,CAACI,EAAE,CAAE;OACjC,MAAM,IAAIpB,eAAe,CAACgB,OAAO,CAAC,EAAE;QACnCJ,KAAK,GAAGI,OAAO,CAACJ,KAAK;OACtB,MAAM;QACLA,KAAK,GAAG,EAAE;;MAGZ,IAAIA,KAAK,EAAE;QACTK,aAAa,GAAG,IAAI,CAACb,cAAc,CAACS,MAAM,CACxC,UAACJ,YAA2B;UAAA,OAAKA,YAAY,CAACG,KAAK,KAAKA,KAAK;QAAA,EAC9D;;MAGH,IACE,CAAC,CAACK,aAAa,IAAI,CAACA,aAAa,CAACI,MAAM,KACxC,CAACpB,eAAe,CAACW,KAAK,CAAC,IACvB,CAACZ,eAAe,CAACY,KAAK,CAAC,EACvB;QACAK,aAAa,GAAG,IAAI,CAACb,cAAc,CAACS,MAAM,CACxC,UAACJ,YAA2B;UAAA,OAAKA,YAAY,CAACG,KAAK,KAAK,cAAc;QAAA,EACvE;;MAGHK,aAAa,CAACK,OAAO,CAAC,UAACb,YAA2B,EAAI;QACpD,IAAIV,sBAAsB,CAACiB,OAAO,CAAC,EAAE;UACnC,IAAMO,KAAK,GAAG,IAAIC,KAAK,CAACR,OAAO,CAACO,KAAK,CAACE,OAAO,CAAC;UAC9ChB,YAAY,CAACiB,QAAQ,CAACH,KAAK,EAAE,IAAI,CAAC;SACnC,MAAM;UACLd,YAAY,CAACiB,QAAQ,CAAC,IAAI,EAAEV,OAAO,CAAC;;MAExC,CAAC,CAAC;IACJ;EAAC;EAAA,OAAAd,YAAA;AAAA;AAGH,eAAeA,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}